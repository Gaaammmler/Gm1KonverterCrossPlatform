<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:vm="clr-namespace:Gm1KonverterCrossPlatform.ViewModels;assembly=Gm1KonverterCrossPlatform"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d" d:DesignWidth="800" d:DesignHeight="450"
        Width="1000"
        Height="500"
        x:Class="Gm1KonverterCrossPlatform.Views.MainWindow"
        Icon="/Assets/avalonia-logo.ico"
        
        Title="Gm1KonverterCrossPlatform">

  <Design.DataContext>
    <vm:MainWindowViewModel/>
  </Design.DataContext>


  <Grid>
    <Grid.RowDefinitions>
      <RowDefinition Height="Auto"/>
      <RowDefinition />
    </Grid.RowDefinitions>
    <Grid.ColumnDefinitions>
      <ColumnDefinition Width="200"/>
      <ColumnDefinition Width="*"/>
    </Grid.ColumnDefinitions>
    <Menu DockPanel.Dock="Top" Grid.Row="0" Grid.ColumnSpan="2" >
      <MenuItem Header="_File">
        <MenuItem Header="_Create new GM1" Name="CreatenewGM1MenueItem" IsEnabled="{Binding ButtonsEnabled}"/>
        <Separator/>
        <MenuItem Header="_Replace with Saved GM1 File" Name="ReplacewithSavedGM1FileMenueItem" IsEnabled="{Binding ReplaceWithSaveFile}"/>
    
      </MenuItem>
      <MenuItem Header="_Edit">
        <MenuItem Header="Export Colortable" Name="ExportColortableMenueItem" IsEnabled="{Binding ColorButtonsEnabled}"/>
        <MenuItem Header="Import Colortable" Name="ImportColortableMenueItem" IsEnabled="{Binding ColorButtonsEnabled}"/>
        <Separator/>
        <MenuItem Header="Export Images" Name="ExportImagesMenueItem" IsEnabled="{Binding ButtonsEnabled}"/>
        <MenuItem Header="Import Images" Name="ImportImagesMenueItem" IsEnabled="{Binding ImportButtonEnabled}"/>
      </MenuItem>
      <MenuItem Header="_Options">
        <MenuItem Header="_Workfolder" Name="WorkfolderMenueItem"/>
        <Separator/>
        <MenuItem Header="_Crusader GM1 Folder" Name="CrusaderfolderMenueItem"/>
        <Separator/>
        <CheckBox Content="Open Folder after Export" Name="UserConfigOpenFolderafterExport" IsChecked="{Binding OpenFolderAfterExport}"/>
      </MenuItem>
    </Menu>
   
      <ListBox Items="{Binding StrongholdFiles}" Grid.Row="1" Grid.Column="0" SelectionMode="Single" Name="Gm1FilesSelector"/>

    <StackPanel Grid.Column="2" Grid.Row="2">
      <Button IsEnabled="{Binding ColorButtonsEnabled}" Click="Button_ClickChangeColorTable" IsVisible="{Binding ColorButtonsEnabled}">Change Color Table</Button>

      <StackPanel Orientation="Horizontal">

        <Button IsEnabled="{Binding ColorButtonsEnabled}" Content="««" Width="40" Click="Button_ClickPalleteminus" IsVisible="{Binding ColorButtonsEnabled}"/>
        <Button IsEnabled="{Binding ColorButtonsEnabled}" Content="»»" Width="40" Click="Button_ClickPalleteplus" IsVisible="{Binding ColorButtonsEnabled}"/>
        <Image Source="{Binding ActuellColorTable}" IsVisible="{Binding ColorButtonsEnabled}"/>
        <TextBlock Text="{Binding ActualPalette}" IsVisible="{Binding ColorButtonsEnabled}"/>
        <TextBlock Text="XOffset:" IsVisible="{Binding ImportButtonEnabled}"/>
        <TextBox  Text="{Binding XOffset}" IsVisible="{Binding ImportButtonEnabled}"/>
        <TextBlock Text="YOffset:" IsVisible="{Binding ImportButtonEnabled}"/>
        <TextBox  Text="{Binding YOffset}" IsVisible="{Binding ImportButtonEnabled}"/>
        <Button  Content="Save" Click="Button_ClickSaveOffset" IsVisible="{Binding ImportButtonEnabled}"/>
      </StackPanel>


      <ListBox Items="{Binding TGXImages}" MaxHeight="400" Name="TGXImageListBox">
        <ListBox.ItemsPanel>
          <ItemsPanelTemplate>
            <WrapPanel Orientation="Vertical" />
          </ItemsPanelTemplate>
        </ListBox.ItemsPanel>
      </ListBox>
    </StackPanel>
  </Grid>









</Window>
